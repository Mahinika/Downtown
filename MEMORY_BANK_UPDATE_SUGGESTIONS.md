# Memory Bank Update Suggestions
**Analysis Date**: January 2026
**Generated By**: Project Analysis

## Summary

After comprehensive analysis of the Downtown project, I've identified several areas where the memory bank should be updated to reflect the current state of the project. This document provides actionable suggestions organized by priority.

---

## üî¥ CRITICAL UPDATES (Fix Discrepancies)

### 1. Update Manager Count in `systemPatterns.md`

**Current State**: 
- `systemPatterns.md` states "12 Autoloads"
- `project.godot` actually has **16 Autoloads**

**Missing Managers**:
- AssetGenerator (autoload)
- SeasonalManager (autoload) 
- UITheme (autoload)
- UIBuilder (autoload)

**Suggested Update**:
Update line 26 in `systemPatterns.md`:
```diff
- **Current Managers (12 Autoloads)**:
+ **Current Managers (16 Autoloads)**:
```

Add missing managers to the list:
- **AssetGenerator**: Asset generation utilities and tools
- **SeasonalManager**: Seasonal effects and weather systems
- **UITheme**: Centralized UI theme tokens and color system (autoload)
- **UIBuilder**: Comprehensive UI component creation system (autoload)

### 2. Clean Up Cross-Project References in `decisions.md`

**Issue**: 
`decisions.md` contains references to "road-to-war" project (lines 74, 94-99, 216, etc.), which is a different project.

**Suggested Actions**:
- Remove or comment out road-to-war specific decisions
- Keep only Downtown project decisions
- Add a note clarifying this file is Downtown-specific

**Affected Lines**:
- Line 74: "All gameplay values... come from JSON files in `road-to-war/data/`"
- Lines 94-99: References to AbilityManager, StatusEffectsManager from different project
- Line 216: "GameplayDataHotReload.gd watches `road-to-war/data/*.json`"

### 3. Update `system-relationships.md` for Downtown Project

**Issue**:
`system-relationships.md` contains mermaid diagrams and references to road-to-war systems (PartyManager, CombatManager, etc.) that don't exist in Downtown.

**Suggested Actions**:
- Replace with Downtown-specific system relationships
- Document actual manager dependencies (CityManager ‚Üí BuildingManager, etc.)
- Add diagrams for actual Downtown systems (City ‚Üí Resources ‚Üí Buildings ‚Üí Villagers)

---

## üü° IMPORTANT UPDATES (Improve Accuracy)

### 4. Update `activeContext.md` with Current Phase Status

**Current**: Phase 1 UX/UI Overhaul ‚Äî Foundations Complete ‚úÖ

**Suggested Additions**:
- **Memory Bank MCP Server**: Installed and configured (January 2026)
- **Manager Count**: Document correct count (16 autoloads)
- **Temporarily Disabled Features**: Document what's disabled and re-enable status
- **Phase 2 Planning**: Status of Research, Skills, Events panels

### 5. Update `progress.md` with Complete System Status

**Missing Information**:
- SkillManager implementation status
- SeasonalManager implementation status
- AssetGenerator status
- UI system (UITheme, UIBuilder) completion status
- Current manager count (16, not 12)

### 6. Verify Building Count in `systemPatterns.md`

**Current**: Line 68 states "12 buildings"
**Actual**: Need to verify from buildings.json or BuildingManager

**Suggested**: Verify and update building count if incorrect

---

## üü¢ RECOMMENDED UPDATES (Documentation Improvements)

### 7. Create Manager Inventory in `systemPatterns.md`

**Suggested Addition**:
Create a complete manager inventory section listing all 16 autoloads with:
- Purpose
- Key methods
- Dependencies
- Status (complete/in progress)

**Format**:
```markdown
## Complete Manager Inventory (16 Autoloads)

1. **DataManager** - JSON data loading and caching
2. **CityManager** - Grid and pathfinding
3. **ResourceManager** - Resource tracking
4. **BuildingManager** - Building management
5. **VillagerManager** - Villager entities
6. **ResourceNodeManager** - Resource nodes
7. **JobSystem** - Job assignments
8. **SkillManager** - Skill system
9. **SaveManager** - Save/load
10. **ProgressionManager** - Goals and unlocks
11. **ResearchManager** - Research/tech
12. **EventManager** - Random events
13. **SeasonalManager** - Seasons/weather
14. **AssetGenerator** - Asset tools
15. **UITheme** - UI theme tokens
16. **UIBuilder** - UI components
```

### 8. Document Planning Documents Organization

**Issue**: 
Root directory has many planning documents:
- ASSET_GENERATOR_PLAN.md
- BUILDING_SYSTEM_REWORK_*.md (3 files)
- COMPREHENSIVE_IMPROVEMENTS_PLAN.md
- PIXEL_TRIBE_TRIBE_MANAGEMENT_ANALYSIS.md
- POPULATION_HOUSING_REWORK_PLAN.md
- STONE_AGE_PROTOTYPE_PLAN.md
- VISUAL_IDENTITY_IMPLEMENTATION.md

**Suggested Actions**:
- Add section to `activeContext.md` referencing these documents
- Or create `memory-bank/planning-documents.md` as index
- Document which plans are completed vs. pending

### 9. Update Job Types Documentation

**Current**: `systemPatterns.md` line 72 says "8 job types"
**VillagerManager.gd**: Shows enum with 8 job types (LUMBERJACK, MINER, FARMER, ENGINEER, MILLER, SMOKER, BREWER, BLACKSMITH)

**Suggested**: 
- Document all 8 job types
- Clarify which are fully implemented vs. planned
- Update status for each job type

### 10. Document Memory Bank MCP Server Integration

**New Addition**: Add to `mcp-tool-strategy.md` or create new section:
- Installation date
- Configuration details
- Available tools
- Usage examples

---

## üìã ACTION ITEMS CHECKLIST

- [ ] Update manager count in `systemPatterns.md` (12 ‚Üí 16)
- [ ] Add missing managers (AssetGenerator, SeasonalManager, UITheme, UIBuilder) to `systemPatterns.md`
- [ ] Remove/update road-to-war references in `decisions.md`
- [ ] Rewrite `system-relationships.md` for Downtown project
- [ ] Update `activeContext.md` with Memory Bank MCP Server status
- [ ] Verify and update building count in `systemPatterns.md`
- [ ] Document all 8 job types and their implementation status
- [ ] Create manager inventory section in `systemPatterns.md`
- [ ] Document planning documents organization
- [ ] Update `progress.md` with complete system status

---

## üìä DISCREPANCIES FOUND

| File | Issue | Severity |
|------|-------|----------|
| `systemPatterns.md` | Manager count wrong (12 vs 16) | üî¥ Critical |
| `decisions.md` | Cross-project references | üî¥ Critical |
| `system-relationships.md` | Wrong project systems | üî¥ Critical |
| `systemPatterns.md` | Missing 4 managers in list | üü° Important |
| `systemPatterns.md` | Job types incomplete documentation | üü° Important |
| `activeContext.md` | Missing MCP server status | üü¢ Recommended |
| `progress.md` | Incomplete system status | üü¢ Recommended |

---

## üîç ADDITIONAL FINDINGS

### Strengths
- Comprehensive memory bank structure
- Well-organized documentation hierarchy
- Good update practices documented in `.cursorrules`
- Phase tracking is clear

### Areas for Improvement
- Cross-project contamination in decisions.md
- Manager count inconsistencies
- Missing documentation for some managers
- Planning documents not indexed in memory bank

---

## üéØ PRIORITY RECOMMENDATIONS

1. **IMMEDIATE**: Fix manager count and add missing managers
2. **HIGH**: Clean up cross-project references
3. **MEDIUM**: Complete manager documentation
4. **LOW**: Organize planning documents

---

**Next Steps**: 
After applying these updates, the memory bank will accurately reflect the current project state and be more useful for future development sessions.
